# Untitled Project (가제 : 인간의 눈)
---


## 밤 스테이지 (08/02) ##
미니게임 위주로 흘러가는 게임플레이, 미니게임과 사용자가 플레이어를 조종하는 상태 사이의 조정 필요  
<br>

### 현재 개발 중인 시스템 (08/04)
1. 게임 세이브 / 로드 시스템  
싱글톤 Game Manager 클래스를 직렬화하여 게임 폴더에 저장 및 불러오기 기능, 간단한 암호화 기능  
여러 개의 세이브 파일 지원 추가 예정 / '메인 화면'과 설정 화면에서의 저장 및 불러오기 추가 예정

2. 대화창 시스템  
싱글톤 Dialogue Manager 클래스를 통하여 낮과 밤 씬에서 모두 작동하는 시스템, Coroutine을 활용하여 대사 속도 구현  
하나의 오브젝트에 여러 개의 대화 추가, 대사 데이터 분리 완료  
Strategy 방식으로 Game Manager를 통해 / 또는 다른 방식을 통해 대사 선택 기능 추가 예정

<br>

### 미니게임 매니저
미니게임 오브젝트 생성 및 생명 주기 관리, 이벤트 방식으로 작동하는 간단한 state machine으로 제작
미니게임 시작 구역 진입 시 플레이어 오브젝트 이동 제한
미니게임 종료 시 미니게임 오브젝트 소멸, 플레이어 이동 허용

### 담당 맵
- 복도
- 기숙사

### 미니게임 3종류
- **QTE (프로토타입 구현 완료)**  
미니게임 시작 구역 접촉 시 시작, 정해진 시간 내에 내려오는 key 오브젝트를 눌러 생존
생존 실패 시 게임 오버, 정해진 시간 동안 버티게 될 경우 미니게임 종료

- **장애물 피하기 (프로토타입 구현 완료)**   
미니게임 시작 구역 접촉 시 시작, 위 아래를 막는 장애물 생성 후 정해진 시간 동안 옆에서 날아오는 장애물을 회피하여 생존. 생존 실패 시 게임 오버, 정해진 시간 동안 버틸 경우 미니게임 종료

- **클리커 게임 (프로토타입 구현 완료)**  
미니게임 시작 구역 접촉 시 시작, 일정 주기로 아래에서 위로 날아오는 장애물을 마우스로 휘둘러 제거  
생존 실패 시 게임 오버, 정해진 시간 동안 버틸 경우 미니게임 종료

### 사용 중인 에셋
**TextMesh Pro**  
UI용 텍스트 및 버튼 등에 사용 중 (gitignore에 포함해놨으니 별도 설치 필요)   
   
<br>



[0722/진성민] 

변경사항* (추가된 스크립트는 모두 기존 main 브랜치 스크립트를 기반으로 참고 후 작성하였으며 주석을 달아놓았습니다.)

1. build profiles에서 Scene 4개: SampleScene, DayScene_classroom, DayScene_hallway, NightScene 추가. (DayScene 두 종류 제작)

2. TriggerArea 스크립트에 기반한 "Scene Loader" 스크립트 추가: 장소 이동에 사용됨(ex. 교실->복도)

3. 씬 이동시 플레이어가 사라지지 않도록 "DontDestroy" 스크립트 추가

4. 임시 플레이어 생성 (유니티 에셋스토어에서 다운받은 무료 에셋 사용)

5. 임시 교실과 복도 생성, 벽 생성(영역 안에 고정되도록)

6. 카메라 비율 수정

7. 교실 <-> 복도 이동 인터랙션 추가

8. 복도로 이동시에 플레이어가 사라지지 않고 특정 위치에서 시작하도록 "PlayerSpawner" 스크립트와 PlayerStartPoint 지점 추가
*PlayerStartPoint 는 알파값 최대라서 안보입니다. 

9. "PlayerMovement" 스크립트 수정 (중요!!) 기존 코드의 playerMovement.OnMinigameStart() 함수는 플레이어의 움직임을 멈추는데,
이건 미니게임용으로 의도된 코드일 뿐더러 플레이어가 씬이 바뀌는(교실->복도) 인터랙션을 추가한 후엔, 플레이어가 해당 함수로 인해 
멈춤 상태에 머물러있어서 새로운 씬에서 이동이 불가능함. 이에 PlayerMovement 스크립트를 수정하여 멈춤 상태를 해제하는, 
씬 이동시 스크립트를 켜고 끄는 역할을 명확하게 보여주는 함수 두개를 추가함.

10. 또한 기존 "TriggerArea" 스크립트에 두 줄을 추가하여, TriggerArea 스크립트를 사용하는 모든 오브젝트(문, 미니게임 트리거 등)의 인스펙터 
창에 Stop Player On Enter라는 체크박스를 만들었고, 이를 미니게임 트리거에선 체크박스를 키고, 문과 같은 컴포넌트에서는 체크박스를 끄는
방식으로 작업.

